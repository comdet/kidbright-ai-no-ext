(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{922:function(e,t,r){"use strict";r.r(t);r(6),r(8),r(9);var o=r(1),n=r(0),c=r(30),l=(r(25),r(15),r(20),r(635),r(3),r(2),r(94),r(26),r(4),r(7),r(107),r(5));function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{models:[{text:"เลือกประเภทการเรียนรู้ (Select training type)",value:null}].concat(Object(c.a)(this.$extensions.map((function(e){return{text:e.title,value:e.id}})))),modelOptions:Object.fromEntries(this.$extensions.map((function(e){return e.options?[e.id,e.options]:null})).filter((function(e){return null!=e}))),selectType:0,projectName:""}},computed:d(d({},Object(l.e)("project",["project","listProjectModal","isLoading","isSaving"])),{},{projectState:function(){return!!(this.projectName.length>0&&this.selectType)}}),methods:d(d({},Object(l.b)("project",["createProject"])),{},{clearForm:function(){this.selectType=null,this.projectName=""},handleCreateProject:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,n,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,o=t.$extensions.find((function(e){return e.id==t.selectType})),n={name:t.projectName,description:"",id:t.$helper.createUniqueName(t.projectName),projectType:t.selectType,projectTypeTitle:o.name,lastUpdate:new Date,extension:o,model:null,dataset:[],labels:[]},(c=t.modelOptions[t.selectType])&&(l={},Object.keys(c).forEach((function(e){"number"==c[e].type&&(c[e].value=Number(c[e].value)),l[e]=c[e].value})),n.options=l),r.next=8,t.createProject(n);case 8:t.$toast.success("สร้างโปรเจคเสร็จเรียบร้อย"),t.$bvModal.hide("new-project-modal"),t.$emit("success",n),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(1),console.error(r.t0),t.$toast.error("มีอย่างไม่ถูกต้อง : "+r.t0.message),t.$emit("error",r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,13]])})))()}})},j=r(11),component=Object(j.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{title:"สร้างโปรเจคใหม่",id:"new-project-modal","ok-disabled":!e.projectState},on:{show:e.clearForm,hidden:e.clearForm,ok:e.handleCreateProject}},[r("form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[r("b-form-group",{attrs:{label:"Project type"}},[r("b-form-select",{attrs:{id:"project-type",options:e.models,required:""},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}})],1),e._v(" "),e.selectType in e.modelOptions?r("div",e._l(Object.keys(e.modelOptions[e.selectType]),(function(t){return r("b-form-group",{key:t,attrs:{label:e.modelOptions[e.selectType][t].title}},[r("b-form-input",e._b({attrs:{id:e.selectType+"-"+t,type:e.modelOptions[e.selectType][t].type},model:{value:e.modelOptions[e.selectType][t].value,callback:function(r){e.$set(e.modelOptions[e.selectType][t],"value",r)},expression:"modelOptions[selectType][key].value"}},"b-form-input",e.modelOptions[e.selectType][t].attributes,!1)),e._v(" "),e.modelOptions[e.selectType][t].description?r("b-form-text",[e._v("\n          "+e._s(e.modelOptions[e.selectType][t].description)+"\n        ")]):e._e()],1)})),1):e._e(),e._v(" "),r("b-form-group",{attrs:{state:e.projectState,label:"Name","label-for":"name-input","invalid-feedback":"ต้องเลือกชนิดโปรเจค, ต้องการชื่อโปรเจค"}},[r("b-form-input",{attrs:{id:"name-input",state:e.projectState,required:""},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)],1)])}),[],!1,null,null,null);t.default=component.exports}}]);