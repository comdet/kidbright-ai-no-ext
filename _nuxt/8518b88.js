(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{926:function(e,t,n){"use strict";n.r(t);n(7),n(6),n(3),n(2),n(8),n(4),n(9);var r=n(1),o=n(0),c=(n(25),n(17)),l=n.n(c),d=n(5);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var v={components:{},name:"ConnectWifiModal",data:function(){return{loading:!0,saving:!1,wifiList:[],selected_ssid:"",wifi_password:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(d.e)(["serverUrl","terminalUrl"])),methods:{listWifi:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,l.a.get(e.terminalUrl+"/listWifi");case 4:(n=t.sent).data.status&&"OK"==n.data.status&&(e.wifiList=n.data.ap,console.log(e.wifiList)),e.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},openWifi:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.saving=!1,e.wifiList=[],e.selected_ssid="",e.wifi_password="",t.next=7,e.listWifi();case 7:case"end":return t.stop()}}),t)})))()},clearData:function(){this.wifiList=[],this.selected_ssid="",this.wifi_password="",this.saving=!1},connectToWifi:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t.saving=!0,n.prev=2,n.next=5,l.a.post(t.terminalUrl+"/wifiConnect",{ssid:t.selected_ssid,password:t.wifi_password});case 5:(r=n.sent).data.status&&"OK"==r.data.status&&t.$toast.success("เชื่อมต่อ WiFi สำเร็จ"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),t.$toast.error("เชื่อมต่อ WiFi ล้มเหลว :"+n.t0.message);case 12:return n.prev=12,t.saving=!1,t.loading=!1,t.$bvModal.hide("wifi_conn"),n.finish(12);case 17:case"end":return n.stop()}}),n,null,[[2,9,12,17]])})))()}}},w=v,m=n(11),component=Object(m.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{"modal-class":"my-modal-class",id:"wifi_conn",title:"WIFI SETTING","ok-disabled":e.loading},on:{ok:e.connectToWifi,show:e.openWifi,hidden:e.clearData},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var r=t.ok,o=t.cancel;return[n("b-button",{attrs:{disabled:e.saving},on:{click:function(e){return o()}}},[e._v("\n        Cancel\n      ")]),e._v(" "),n("b-button",{attrs:{variant:"primary",disabled:e.saving||e.loading},on:{click:function(e){return r()}}},[e.saving?n("b-spinner",{staticClass:"mr-1",attrs:{small:""}}):e._e(),e._v("\n        Connect\n      ")],1)]}}])},[e.loading?n("div",{staticStyle:{"text-align":"center"}},[n("b-spinner",{staticStyle:{width:"4rem",height:"4rem"},attrs:{variant:"success",label:"Spinning"}})],1):n("div",[n("p",{staticClass:"modal-ttl"},[e._v("Please select wifi from list")]),e._v(" "),n("p",{staticClass:"modal-desc"},[e._v("\n        เลือกเครือข่าย wi-fi เพื่อเชื่อต่ออินเทอร์เน็ต สำหรับ KidBright AI"),n("br"),e._v("หมายเหตุ\n        : แนะนำให้เลือกเครือข่ายเดียวกันกับคอมพิวเตอร์\n      ")]),e._v(" "),n("b-dropdown",{staticClass:"mb-2",attrs:{id:"ddCommodity",name:"ddCommodity",text:e.selected_ssid?e.selected_ssid:"Select Wi-Fi",variant:"secondary","menu-class":"w-100",block:""},model:{value:e.selected_ssid,callback:function(t){e.selected_ssid=t},expression:"selected_ssid"}},e._l(e.wifiList,(function(t,i){return n("b-dropdown-item",{key:i,on:{click:function(n){e.selected_ssid=t}}},[e._v("\n          "+e._s(t)+"\n        ")])})),1),e._v(" "),n("b-form-input",{attrs:{placeholder:"กรุณาใส่รหัสผ่าน"},model:{value:e.wifi_password,callback:function(t){e.wifi_password=t},expression:"wifi_password"}})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);